!function(){"use strict";angular.module("tpl-spinner",["tpl.scope-listener-manager"]).directive("tplspinner",["$http","$timeout","$rootScope","scopeListenerManager",function(a,b,c,d){var e=function(){return a.pendingRequests.length>0};return{restrict:"E",template:'<div class="spinner"><div class="spinner__content"><svg width="70" height="20"><rect width="20" height="20" x="0" y="0" rx="3" ry="3"><animate attributeName="width" values="0;20;20;20;0" dur="1000ms" repeatCount="indefinite"/><animate attributeName="height" values="0;20;20;20;0" dur="1000ms" repeatCount="indefinite"/><animate attributeName="x" values="10;0;0;0;10" dur="1000ms" repeatCount="indefinite"/><animate attributeName="y" values="10;0;0;0;10" dur="1000ms" repeatCount="indefinite"/></rect><rect width="20" height="20" x="25" y="0" rx="3" ry="3"><animate attributeName="width" values="0;20;20;20;0" begin="200ms" dur="1000ms" repeatCount="indefinite"/><animate attributeName="height" values="0;20;20;20;0" begin="200ms" dur="1000ms" repeatCount="indefinite"/><animate attributeName="x" values="35;25;25;25;35" begin="200ms" dur="1000ms" repeatCount="indefinite"/><animate attributeName="y" values="10;0;0;0;10" begin="200ms" dur="1000ms" repeatCount="indefinite"/></rect><rect width="20" height="20" x="50" y="0" rx="3" ry="3"><animate attributeName="width" values="0;20;20;20;0" begin="400ms" dur="1000ms" repeatCount="indefinite"/><animate attributeName="height" values="0;20;20;20;0" begin="400ms" dur="1000ms" repeatCount="indefinite"/><animate attributeName="x" values="60;50;50;50;60" begin="400ms" dur="1000ms" repeatCount="indefinite"/><animate attributeName="y" values="10;0;0;0;10" begin="400ms" dur="1000ms" repeatCount="indefinite"/></rect></svg></div></div>',controller:["$scope",function(a){a.addListeners=function(b,e){d.saveAddListener(a,c.$on(e.trigger+".show",function(){b.addClass("spinner--loading")})),d.saveAddListener(a,c.$on(e.trigger+".hide",function(){b.removeClass("spinner--loading")}))}}],replace:!0,link:function(a,c,d){d.trigger?(a.addListeners(c,d),"true"===d.showInitial&&c.addClass("spinner--loading")):"true"===d.manualtrigger?c.addClass("spinner--loading"):a.$watch(e,function(d){a.waiting=d,d>0?c.addClass("spinner--loading"):b(function(){c.removeClass("spinner--loading")},300)})}}}])}();